<div class="container mt-4">
    <h3 class="text-center mb-4">Update Product Images</h3>

    <!-- Alert for errors -->
    <div *ngIf="errorMessage" class="alert alert-danger text-center">
        {{ errorMessage }}
    </div>

    <div class="row">
        <!-- Left Side: File Input & Action Buttons -->
        <div class="col-md-4">
            <div class="card p-3 shadow-sm">
                <h5 class="text-center mb-3">Upload Images</h5>
                <input type="file" class="form-control mb-3" (change)="onImageSelected($event)" multiple
                    accept="image/*">

                <button class="btn btn-primary w-100 mb-2" (click)="updateImages()">Update Images</button>
                <button class="btn btn-danger w-100 mb-2" (click)="deleteAllImages()">Delete All Images</button>
                <button class="btn btn-secondary w-100" (click)="goBack()">Back</button>
            </div>
        </div>

        <!-- Right Side: Images -->
        <div class="col-md-8">
            <div *ngIf="loading" class="text-center my-3">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>

            <div *ngIf="images.length === 0 && !loading" class="alert alert-warning text-center">
                No images found for this product.
            </div>

            <div class="row">
                <div *ngFor="let image of images" class="col-md-4 col-6 mb-3">
                    <div class="position-relative">
                        <button class="btn btn-sm btn-danger position-absolute top-0 end-0 m-1"
                            (click)="removeImage(image.id)">
                            Ã—
                        </button>
                        <img [src]="image.imageUrl" alt="Product Image" class="img-fluid rounded shadow">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>